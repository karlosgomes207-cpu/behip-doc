<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BeHip convertisseur-video-mpquality</title>
  <link rel="stylesheet" href="css/style.css">
  <!-- ffmpeg.wasm -->
  <script src="https://unpkg.com/@ffmpeg/ffmpeg@0.12.10/dist/ffmpeg.min.js"></script>
</head>
<body>
  <div class="app">
    <!-- Barre de recherche -->
    <header class="header">
      <div class="logo-wrap">
        <img src="assets/logo.png" alt="BeHip" class="logo-img" width="64" height="64" />
        <h1 class="logo">BeHip convertisseur-video-mpquality</h1>
      </div>
      <p class="tagline">Convertisseur vidéo en ligne</p>
      <div class="search-wrap">
        <input
          type="url"
          id="urlInput"
          class="search-input"
          placeholder="Collez un lien (YouTube, TikTok, Vimeo, Instagram…)"
          autocomplete="url"
        />
        <button type="button" id="btnLoad" class="btn btn-load" aria-label="Charger la vidéo">
          Charger
        </button>
      </div>
      <p id="urlError" class="url-error" aria-live="polite"></p>
    </header>

    <!-- Zone preview (iframe ou thumbnail) -->
    <section class="preview-section" id="previewSection">
      <div class="preview-container" id="previewContainer">
        <div class="preview-placeholder" id="previewPlaceholder">
          <span class="placeholder-icon">▶</span>
          <p>Collez une URL et cliquez sur « Charger » pour afficher la prévisualisation.</p>
        </div>
        <iframe id="previewIframe" class="preview-iframe" title="Aperçu vidéo" hidden></iframe>
      </div>

      <!-- Flèche téléchargement (s'affiche quand la vidéo est prête) -->
      <div class="download-arrow-wrap" id="downloadArrowWrap" aria-hidden="true">
        <button type="button" id="btnDownload" class="download-arrow" aria-label="Convertir et télécharger">
          <span class="arrow-icon">↓</span>
        </button>
        <span class="arrow-label">Convertir et télécharger</span>
      </div>
    </section>

    <!-- Options : format + qualité -->
    <section class="options-section">
      <div class="option-group">
        <label for="formatSelect">Format</label>
        <select id="formatSelect" class="select">
          <option value="mp3">MP3 (audio seul)</option>
          <option value="mp4">MP4 (vidéo)</option>
          <option value="avi">AVI (vidéo)</option>
        </select>
      </div>
      <div class="option-group">
        <label for="qualitySelect">Qualité</label>
        <select id="qualitySelect" class="select">
          <option value="low">Basse (96 kbps / 480p)</option>
          <option value="medium">Moyenne (128 kbps / 720p)</option>
          <option value="high">Haute (192 kbps / 1080p)</option>
        </select>
      </div>
    </section>

    <!-- Barre de progression + Annuler -->
    <section class="progress-section" id="progressSection" hidden>
      <div class="progress-bar-wrap">
        <div class="progress-bar" id="progressBar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
      </div>
      <p class="progress-text" id="progressText">Préparation…</p>
      <button type="button" id="btnCancel" class="btn btn-cancel">Annuler</button>
    </section>

    <!-- Bandeau AdSense (300x100) – visible jusqu'au téléchargement -->
    <aside class="adsense-wrap" id="adsenseWrap">
      <div class="adsense-placeholder" id="adsensePlaceholder">
        <span>Publicité 300×100</span>
        <small>Powered by AdSense</small>
      </div>
    </aside>

    <!-- Footer -->
    <footer class="footer">
      <p>
        Convertisseur gratuit – Suivez-moi sur TikTok :
        <a href="https://tiktok.com/@7l_lux" target="_blank" rel="noopener noreferrer">@7l_lux</a>
      </p>
      <p class="footer-powered">Powered by AdSense · <a href="admin.html" class="footer-admin">Admin pub</a></p>
    </footer>
  </div>

  <script src="js/app.js"></script>
</body>
</html>
